<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Exam Mentor</title>

<style>
:root{
  --bg:#f7fdf6;
  --panel:#fff;
  --border:#d1e7d3;
  --text:#0f172a;
  --muted:#6b7280;
  --accent:#3d9d6f;
  --radius:12px;
}

*{box-sizing:border-box;margin:0;padding:0;font-family:Inter,system-ui,sans-serif}

body{
  background:var(--bg);
  color:var(--text);
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

/* HEADER */
header{
  height:64px;
  background:var(--panel);
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  padding:0 20px;
  border-bottom:1px solid var(--border);
}

.logo img{height:36px}
.site-title{
  text-align:center;
  font-weight:700;
  font-size:20px;
  color:var(--accent);
}

/* TOP MENU */
.menu{position:relative}
.menu-btn{
  background:none;
  border:none;
  cursor:pointer;
  font-size:14px;
  font-weight:600;
  color:var(--accent);
}
.menu-content{
  position:absolute;
  right:0;
  top:40px;
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:12px;
  display:none;
  min-width:160px;
}
.menu.open .menu-content{display:block}
.menu-content div{
  padding:10px 14px;
  cursor:pointer;
}
.menu-content div:hover{
  background:#e6f4e9;
  color:var(--accent);
}

/* LAYOUT */
.container{
  display:grid;
  grid-template-columns:280px 1fr;
  flex:1;
  min-height:0;
}

/* SIDEBAR */
.sidebar{
  background:var(--panel);
  border-right:1px solid var(--border);
  padding:14px;
  overflow-y:auto;
}

/* CHEVRONS */
details summary{
  cursor:pointer;
  padding:8px 10px;
  font-weight:600;
  list-style:none;
  position:relative;
  border-radius:8px;
}
details summary::marker{display:none}
details summary::after{
  content:"â–¸";
  position:absolute;
  right:10px;
  transition:0.2s;
}
details[open]>summary::after{transform:rotate(90deg)}
details[open]>summary{background:#e6f4e9}

/* SUBJECT */
.subject summary{
  padding-left:20px;
  font-weight:600;
  color:var(--accent);
}

/* YEAR (hierarchical) */
.year summary{
  padding-left:34px;
  font-size:14px;
  font-weight:500;
  color:#4b5563;
}

/* PDF ITEM */
.pdf-item{
  padding:6px 0 6px 52px;
  font-size:13px;
  cursor:pointer;
  color:var(--muted);
}
.pdf-item:hover{color:var(--accent)}
.pdf-item.active{
  color:var(--accent);
  font-weight:600;
}

/* CONTENT */
.content{
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:10px;
  min-height:0;
}

.breadcrumb{
  font-size:14px;
  color:var(--muted);
}

/* TABS */
.tabs{
  display:flex;
  gap:8px;
  border-bottom:2px solid var(--border);
}
.tab{
  padding:6px 12px;
  font-size:14px;
  cursor:pointer;
  color:var(--muted);
}
.tab.active{
  color:var(--accent);
  font-weight:600;
  border-bottom:3px solid var(--accent);
}

/* VIEWER */
iframe{
  flex:1;
  width:100%;
  border:none;
  border-radius:12px;
  background:#fff;
}

/* FOOTER */
footer{
  position:sticky;
  bottom:0;
  background:var(--panel);
  border-top:1px solid var(--border);
  text-align:center;
  font-size:13px;
  padding:10px;
}

/* RESPONSIVE */
@media(max-width:900px){
  .container{grid-template-columns:1fr}
  .sidebar{
    max-height:260px;
    border-right:none;
    border-bottom:1px solid var(--border);
  }
}
</style>
</head>

<body>

<header>
  <div class="logo"><img src="mem1.png"></div>
  <div class="site-title">My Exam Mentor</div>

  <div class="menu" id="menu">
    <button class="menu-btn" id="menuBtn" onclick="toggleMenu()">Home â–¾</button>
    <div class="menu-content" id="menuItems"></div>
  </div>
</header>

<div class="container">
  <aside class="sidebar" id="sidebar"></aside>

  <main class="content">
    <div class="breadcrumb" id="breadcrumb">Home</div>
    <div class="tabs" id="tabs"></div>
    <iframe id="viewer" src="pages/home.html"></iframe>
  </main>
</div>

<footer>Â© 2026 My Exam Mentor</footer>

<script>
/* SMART TOP MENU */
const pages={
  Home:'home.html',
  Introduction:'introduction.html',
  'Contact Us':'contact.html'
};
let activePage='Home';

function toggleMenu(){
  menu.classList.toggle('open');
}
function renderMenu(){
  menuBtn.textContent=activePage+' â–¾';
  menuItems.innerHTML='';
  Object.keys(pages).forEach(p=>{
    if(p!==activePage){
      const d=document.createElement('div');
      d.textContent=p;
      d.onclick=()=>loadPage(p);
      menuItems.appendChild(d);
    }
  });
}
function loadPage(p){
  activePage=p;
  viewer.src='pages/'+pages[p];
  breadcrumb.textContent=p;
  tabs.innerHTML='';
  renderMenu();
  menu.classList.remove('open');
}
renderMenu();

/* SIDEBAR WITH DESCENDING YEARS */
fetch('pdf-index.json')
.then(r=>r.json())
.then(buildSidebar);

function buildSidebar(data){
  sidebar.innerHTML='';

  for(const board in data){
    const bd=document.createElement('details');
    const bs=document.createElement('summary');
    bs.textContent=board.toUpperCase();
    bd.appendChild(bs);

    for(const subject in data[board]){
      const sd=document.createElement('details');
      sd.className='subject';
      const ss=document.createElement('summary');
      ss.textContent=subject;
      sd.appendChild(ss);

      // ðŸ”½ SORT YEARS DESCENDING
      const years = Object.keys(data[board][subject])
        .sort((a,b)=>b.localeCompare(a));

      years.forEach(year=>{
        const yd=document.createElement('details');
        yd.className='year';
        const ys=document.createElement('summary');
        ys.textContent=year;
        yd.appendChild(ys);

        data[board][subject][year].forEach(pdf=>{
          const p=document.createElement('div');
          p.className='pdf-item';
          p.textContent=pdf.replace('.pdf','');

          p.onclick=()=>{
            document.querySelectorAll('.pdf-item')
              .forEach(x=>x.classList.remove('active'));
            p.classList.add('active');

            breadcrumb.textContent=
              `${board.toUpperCase()} â†’ ${subject} â†’ ${year} â†’ ${p.textContent}`;

            tabs.innerHTML=`
              <div class="tab active">Question Paper</div>
              <div class="tab" onclick="alert('Feature is under development. Please stay tuned.')">Answer Sheet</div>
              <div class="tab" onclick="alert('Feature is under development. Please stay tuned.')">Analysis</div>
            `;

            viewer.src=
              `pdfs/${board}/${subject}/${year}/${pdf}#view=FitH`;
          };

          yd.appendChild(p);
        });

        sd.appendChild(yd);
      });

      bd.appendChild(sd);
    }
    sidebar.appendChild(bd);
  }
}
</script>

</body>
</html>
